---
layout: default
title: Database
parent: Basic
grand_parent: Database
nav_order: 1
---

# Basic Database 
{: .no_toc .text-beta .fw-700}

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Database Basic

### Database Definition

* Data

    **데이터베이스의 데이터는 정보로서의 데이터**

    &#9656; 수많은 데이터 중 중요하고 유용하기 때문에 사용자가 기억해야 할것 을 의미

* Base

    **기지**

    &#9656; 데이터는 base가 가진 체계와 규격에 맞춰진 데이터만 들어갈 수 있음

* Database

    **한 조직의 여러 응용시스템들이 공유해서 사용할 수 있도록 데이터들을 통합해 체계적으로 조직한 후 저장한 운영데이터의 집합**

### Database Features

* **데이터의 무결성** : 오류가 있어서는 안됨

* **데이터의 독립성** : 데이터베이스와 응용 프로그램은 서로 의존적인 관계 X (독립적 관계 + 상호보완적 관계)

* **데이터 중복 최소화** : 여러 군데 중복 저장되는 것 방지

* **보안** : 접근 허가된 사람만 접근 가능

* **응용 프로그램 제작 및 수정 용이** : 데이터베이스를 이용하면 통일된 방식으로 응용 프로그램 작성 가능 + 유지 지, 보수 쉬움

* **데이터의 안전성 향상** : 데이터 손상되더라도 원래의 상태로 복원 또는 복구 가능

* **실시간 접근** : 사용자의 데이터 요구에 실시간으로 응답 (dynamic한 특성 보장해줘야함)

* **계속 변화** : 데이터의 계속적인 삽입(insert), 삭제(delete), 수정(update) 통해 현재의 정확한 데이터 유지

* **동시 공유** : 서로 다른 데이터의 동시 사용 뿐만 아니라 같은 데이터의 동시 사용도 지원

* **내용 기반 참조** : 데이터가 저장된 주소나 위치가 아닌 내용(값)으로 참조

### Database Disadvantages

&#9656; 처음 구축할 때 운영에 비용과 자원이 많이 듬

&#9656; 데이터베이스에 있는 데이터들이 망가지지 않도록 DBMS을 사용하고 유지하는데 많은 교육과 주의가 필요함

&#8594; 도입하는 것이 좋은지 나쁜지는 상황에 따라 다름

### Database Datatype

**데이터베이스에 저장할 수 있는 데이터는 타입을 가짐**

&#8594; 데이터를 삽입할 때 이를 유의해야 함

![](https://gekdev.github.io/docs/database/basic/example/db_datatype.png)

### Data Integrity Constraints

데이터 무결성 제약 조건

**칼럼에 들어가는 값을 제한하여 데이터의 정확성과 일관성을 보장해야 함**

ex) 대학교에 학생 정보를 저장하는 테이블에서 그 학교 학생이라면 무조건 학번을 가져야 하고, 한 학생이 가지는 유일한 값이 되어야 함

#### NOT NULL 제약 조건

&#9656; NULL = 어느 값도 정해지지 않은 불확실한 값

**테이블에 무조건 입력해야 하는 필수 입력 컬럼을 NOT NULL제약 조건으로 걸어줌**

syntax
{: .label .mt-2}
<div class="code-example" markdown="1">
NOT NULL
</div>
```sql
ex) CREATE TABLE emp(
    ename VARCHAR2(20) NOT NULL,
    empno NUMBER(5) NOT NULL
);

-- 테이블 생성 시 NOT NULL을 입력해 제약 조건을 걸 수 있음
```

#### 기본키 제약 조건

**칼럼이 동일한 값을 가질 수 없도록 제약 조건을 걸어주는 것**

syntax
{: .label .mt-2}
<div class="code-example" markdown="1">
PRIMARY KEY
</div>
```sql
CREATE TABLE emp(
    snum NUMBER(5) PRIMARY KEY
);

-- 테이블 생성 시 기본키에 해당하는 컬럼명 뒤에 primary key를 입력
```

#### 외래 키 제약 조건

관계형 데이터베이스는 데이터가 중복되는 것을 막기 위해 정보를 여러 테이블에 나눠 저장해 두었다가 원하는 정보를 얻기 위해 여러 테이블을 연결하여 사용

**특정 테이블의 칼럼이 다른 테이블의 칼럼을 참조하게 되는 경우가 생김, 이러한 칼럼을 외래키라고 함**

예시
{: .label .label-purple .mt-2}
<div class="code-example" markdown="1">
예를 들어 회사 사원 테이블에는 사원에 대한 정보와 부서번호/부서명 칼럼이 존재할 것입니다. 하지만 부서에 대한 정보는 담고 있지 않습니다. 부서에 대한 정보는 부서테이블에 정보가 담겨 있겠죠.

그렇다면 사원 테이블의 부서번호와 부서 테이블의 부서번호가 서로 연결이 된다는 것을 알 수 있습니다.

만약 사원 테이블의 부서번호와 부서 테이블의 부서번호가 일치되는 것이 없다면 부서 정보를 얻어오는데 문제가 발생합니다. 

그래서 서로 참조할 수 있도록 제약을 걸어 둔 것이 외래키 제약 조건
</div>


### Hierarchy of databases

1. 비트(Bit) : 컴퓨터에서 기억하는 상태의 가장 작은 단위, 두가지 상태를 나타낼 수 있음

![](https://gekdev.github.io/docs/database/basic/example/bit.jpg)

2. 바이트(Byte) : 8개의 상태를 나타낼 수 있음

3. 필드(Field) : 바이트 몇 개를 모으면 문자나 숫자를 기억할 수 있는데, 이렇게 숫자나 문자 등 특정한 종류의 데이터를 저장하기 위한 영역

4. 레코드(Record)

5. 파일(File)

6. 데이터베이스(Database) : 여러 개의 관련있는 파일을 논리적으로 연결해 필요한 부분을 적절히 찾고 활용할 수 있도록 한 것

![](https://gekdev.github.io/docs/database/basic/example/heir.jpg)

---

## Abstracting a database

**데이터베이스의 추상화**

사용자는 오직 어떻게 하면 빠르고 쉽게 데이터를 가져올 수 있는지에 관심

데이터베이스의 입장에서는 어떻게하면 안전하고 오류없이 데이터를 보관할 수 있을지에 관심

사용자와 데이터베이스의 물리적인 구조는 관심사가 전혀 다르며, 그 관심사에 따라 알아야 할 부분과 알지 않아도 될 부분이 나뉨

알지 않아도 되는 부분은 드러내지 않는데 이를 추상화라고 함

데이터베이스의 추상화를 구현한 대표적인 예

3단계 데이터베이스 구조(3-level-database architecture, =ANSI/SPARC 구조)

![](https://gekdev.github.io/docs/database/basic/example/data_indep.jpg)

### External Level

**외부 단계**

외부 단계(또는 뷰 단계)는 가장 추상화된 층으로 개별 사용자 또는 프로그램이 접근하는 층

사용자는 뷰 또는 SQL 쿼리를 통해 외부 스키마를 구성

외부스키마는 아래 단계에 위치한 개념스키마로부터 생성되거나 사용될 수 있으므로 서브스키마(Sub Schema)라고도 불림

한개의 개념스키마로부터 여러개의 서브스키마가 만들어질 수 있음

### Conceptual Level

**개념단계**

개념스키마가 존재. 개념스키마는 논리스키마(Logical Schema)라고도 함

어떤 데이터들이 기억되어야 하는지, 그리고 그 데이터들 간에는 어떤 관계가 있는지를 정의

### Internal Level

**내부단계**

데이터들이 실질적으로 어떻게 저장되어 있는지에 관심이 있는 층으로 내부스키마(Internal Schema)를 가짐

내부 스키마는 데이터베이스의 물리적인 저장 구조를 기술하므로 물리스키마(Physical Schema)라고도 함

### Data Independence

**데이터 독립성, 특정 스키마를 변경해도 상위 수준의 스키마 정의에 영향을 주지 않는 성질을 말함**

3단계 계층구조로 나눠진 데이터베이스는 데이터의 독립성을 가짐

* 논리적 데이터 독립성 

    **논리 스키마가 변하더라도 상위 단계에 존재하는 외부스키마가 영향을 받지 않는 성질**
    
    &#8594; 데이터베이스에 새로운 데이터가 추가되거나 필드가 추가,삭제되는 경우 현재 사용하고 있는 응용 프로그램에서 사용자의 뷰에서 직접 관련되지 않는 부분은 영향받지 않음

* 물리적 데이터 독립성

    **물리 스키마가 바뀌더라도 개념 스키마나 사용자가 이용하는 응용프로그램은 영향을 받지 않음**
    
    &#8594; 가끔 데이터베이스 관리 시스템의 성능 향상을 위해 시스템을 바꾸거나 물리스키마 구조를 변경하는 경우가 있음

### 데이터베이스 모델링

데이터모델 : **현실 세계로부터 추출한 데이터의 의미, 데이터간의 관계, 제약 조건들을 기술한 것**

사용자와 컴퓨터 중 어디에 초점을 맞추는 지에 따라 개념적 데이터 모델, 논리적 데이터 모델, 물리적 데이터 모델로 나눔

#### 개념적 데이터 모델

**사용자에 초점을 맞추는 데이터 모델로 사용자가 데이터를 어떻게 인식하는지에 관심**

&#9656; 어떤 데이터들이 있고 각 데이터의 특징, 데이터 간의 관계 등을 정함

ex) ER 데이터 모델

#### 논리적 데이터 모델

**컴퓨터와 사용자 둘 다를 고려하는 데이터 모델**

&#9656; 사용자가 이해하면서 실제로 저장 될 수 있는 구조를 설계

ex) 관계형 데이터 모델, 계층형 데이터 모델, 네트워크형 데이터 모델 등이 있음

#### 물리적 데이터 모델

**컴퓨터에 초점을 맞춘 모델로 데이터가 어떻게 컴퓨터에 저장되는지에 관심**

ex) 레코드의 형식, 레코드 순서, 접근 경로 같은 정보들이 있음
